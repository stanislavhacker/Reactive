/*! Reactive 2015-04-14 */
var dom=function(){"use strict";function a(a,b){var c;return a instanceof dom.html.Element?(c=a,c.attach(b)):(c=new dom.html.Element(a.tagName,b),c.rendered=!0),c.getLive(a),c.createCssRules(),c}return{attach:function(b){var c=Array.prototype.slice.apply(arguments);return a(b,c.slice(1))},div:function(){var a=Array.prototype.slice.apply(arguments);return new dom.html.Element(ElementType.DIV,a)},span:function(){var a=Array.prototype.slice.apply(arguments);return new dom.html.Element(ElementType.SPAN,a)},a:function(){var a=Array.prototype.slice.apply(arguments);return new dom.html.Element(ElementType.A,a)},abbr:function(){var a=Array.prototype.slice.apply(arguments);return new dom.html.Element(ElementType.ABBR,a)},address:function(){var a=Array.prototype.slice.apply(arguments);return new dom.html.Element(ElementType.ADDRESS,a)},area:function(){var a=Array.prototype.slice.apply(arguments);return new dom.html.Element(ElementType.AREA,a)},article:function(){var a=Array.prototype.slice.apply(arguments);return new dom.html.Element(ElementType.ARTICLE,a)},aside:function(){var a=Array.prototype.slice.apply(arguments);return new dom.html.Element(ElementType.ASIDE,a)},audio:function(){var a=Array.prototype.slice.apply(arguments);return new dom.html.Element(ElementType.AUDIO,a)},b:function(){var a=Array.prototype.slice.apply(arguments);return new dom.html.Element(ElementType.B,a)},base:function(){var a=Array.prototype.slice.apply(arguments);return new dom.html.Element(ElementType.BASE,a)},blockquote:function(){var a=Array.prototype.slice.apply(arguments);return new dom.html.Element(ElementType.BLOCKQUOTE,a)},br:function(){var a=Array.prototype.slice.apply(arguments);return new dom.html.Element(ElementType.BR,a)},button:function(){var a=Array.prototype.slice.apply(arguments);return new dom.html.Element(ElementType.BUTTON,a)},canvas:function(){var a=Array.prototype.slice.apply(arguments);return new dom.html.Element(ElementType.CANVAS,a)},caption:function(){var a=Array.prototype.slice.apply(arguments);return new dom.html.Element(ElementType.CAPTION,a)},cite:function(){var a=Array.prototype.slice.apply(arguments);return new dom.html.Element(ElementType.CITE,a)},code:function(){var a=Array.prototype.slice.apply(arguments);return new dom.html.Element(ElementType.CODE,a)},em:function(){var a=Array.prototype.slice.apply(arguments);return new dom.html.Element(ElementType.EM,a)},embed:function(){var a=Array.prototype.slice.apply(arguments);return new dom.html.Element(ElementType.EMBED,a)},fieldset:function(){var a=Array.prototype.slice.apply(arguments);return new dom.html.Element(ElementType.FIELDSET,a)},footer:function(){var a=Array.prototype.slice.apply(arguments);return new dom.html.Element(ElementType.FOOTER,a)},form:function(){var a=Array.prototype.slice.apply(arguments);return new dom.html.Element(ElementType.FORM,a)},h1:function(){var a=Array.prototype.slice.apply(arguments);return new dom.html.Element(ElementType.H1,a)},h2:function(){var a=Array.prototype.slice.apply(arguments);return new dom.html.Element(ElementType.H2,a)},h3:function(){var a=Array.prototype.slice.apply(arguments);return new dom.html.Element(ElementType.H3,a)},h4:function(){var a=Array.prototype.slice.apply(arguments);return new dom.html.Element(ElementType.H4,a)},h5:function(){var a=Array.prototype.slice.apply(arguments);return new dom.html.Element(ElementType.H5,a)},h6:function(){var a=Array.prototype.slice.apply(arguments);return new dom.html.Element(ElementType.H6,a)},header:function(){var a=Array.prototype.slice.apply(arguments);return new dom.html.Element(ElementType.HEADER,a)},i:function(){var a=Array.prototype.slice.apply(arguments);return new dom.html.Element(ElementType.I,a)},iframe:function(){var a=Array.prototype.slice.apply(arguments);return new dom.html.Element(ElementType.IFRAME,a)},img:function(){var a=Array.prototype.slice.apply(arguments);return new dom.html.Element(ElementType.IMG,a)},input:function(){var a=Array.prototype.slice.apply(arguments);return new dom.html.Element(ElementType.INPUT,a)},label:function(){var a=Array.prototype.slice.apply(arguments);return new dom.html.Element(ElementType.LABEL,a)},legend:function(){var a=Array.prototype.slice.apply(arguments);return new dom.html.Element(ElementType.LEGEND,a)},li:function(){var a=Array.prototype.slice.apply(arguments);return new dom.html.Element(ElementType.LI,a)},main:function(){var a=Array.prototype.slice.apply(arguments);return new dom.html.Element(ElementType.MAIN,a)},mark:function(){var a=Array.prototype.slice.apply(arguments);return new dom.html.Element(ElementType.MARK,a)},menu:function(){var a=Array.prototype.slice.apply(arguments);return new dom.html.Element(ElementType.MENU,a)},menuitem:function(){var a=Array.prototype.slice.apply(arguments);return new dom.html.Element(ElementType.MENUITEM,a)},meta:function(){var a=Array.prototype.slice.apply(arguments);return new dom.html.Element(ElementType.META,a)},meter:function(){var a=Array.prototype.slice.apply(arguments);return new dom.html.Element(ElementType.METER,a)},nav:function(){var a=Array.prototype.slice.apply(arguments);return new dom.html.Element(ElementType.NAV,a)},noscript:function(){var a=Array.prototype.slice.apply(arguments);return new dom.html.Element(ElementType.NOSCRIPT,a)},object:function(){var a=Array.prototype.slice.apply(arguments);return new dom.html.Element(ElementType.OBJECT,a)},ol:function(){var a=Array.prototype.slice.apply(arguments);return new dom.html.Element(ElementType.OL,a)},option:function(){var a=Array.prototype.slice.apply(arguments);return new dom.html.Element(ElementType.OPTION,a)},p:function(){var a=Array.prototype.slice.apply(arguments);return new dom.html.Element(ElementType.P,a)},param:function(){var a=Array.prototype.slice.apply(arguments);return new dom.html.Element(ElementType.PARAM,a)},pre:function(){var a=Array.prototype.slice.apply(arguments);return new dom.html.Element(ElementType.PRE,a)},q:function(){var a=Array.prototype.slice.apply(arguments);return new dom.html.Element(ElementType.Q,a)},section:function(){var a=Array.prototype.slice.apply(arguments);return new dom.html.Element(ElementType.SECTION,a)},select:function(){var a=Array.prototype.slice.apply(arguments);return new dom.html.Element(ElementType.SELECT,a)},small:function(){var a=Array.prototype.slice.apply(arguments);return new dom.html.Element(ElementType.SMALL,a)},source:function(){var a=Array.prototype.slice.apply(arguments);return new dom.html.Element(ElementType.SOURCE,a)},strong:function(){var a=Array.prototype.slice.apply(arguments);return new dom.html.Element(ElementType.STRONG,a)},sub:function(){var a=Array.prototype.slice.apply(arguments);return new dom.html.Element(ElementType.SUB,a)},summary:function(){var a=Array.prototype.slice.apply(arguments);return new dom.html.Element(ElementType.SUMMARY,a)},sup:function(){var a=Array.prototype.slice.apply(arguments);return new dom.html.Element(ElementType.SUP,a)},table:function(){var a=Array.prototype.slice.apply(arguments);return new dom.html.Element(ElementType.TABLE,a)},tbody:function(){var a=Array.prototype.slice.apply(arguments);return new dom.html.Element(ElementType.TBODY,a)},td:function(){var a=Array.prototype.slice.apply(arguments);return new dom.html.Element(ElementType.TD,a)},textarea:function(){var a=Array.prototype.slice.apply(arguments);return new dom.html.Element(ElementType.TEXTAREA,a)},tfoot:function(){var a=Array.prototype.slice.apply(arguments);return new dom.html.Element(ElementType.TFOOT,a)},th:function(){var a=Array.prototype.slice.apply(arguments);return new dom.html.Element(ElementType.TH,a)},thead:function(){var a=Array.prototype.slice.apply(arguments);return new dom.html.Element(ElementType.THEAD,a)},title:function(){var a=Array.prototype.slice.apply(arguments);return new dom.html.Element(ElementType.TITLE,a)},tr:function(){var a=Array.prototype.slice.apply(arguments);return new dom.html.Element(ElementType.TR,a)},track:function(){var a=Array.prototype.slice.apply(arguments);return new dom.html.Element(ElementType.TRACK,a)},u:function(){var a=Array.prototype.slice.apply(arguments);return new dom.html.Element(ElementType.U,a)},ul:function(){var a=Array.prototype.slice.apply(arguments);return new dom.html.Element(ElementType.UL,a)},video:function(){var a=Array.prototype.slice.apply(arguments);return new dom.html.Element(ElementType.VIDEO,a)},text:function(a){return new dom.html.TextElement(a)},attr:function(a,b){return new dom.html.Attribute(a,b)},dataAttr:function(a,b){return new dom.html.DataAttribute(a,b)},classes:function(){var a=Array.prototype.slice.apply(arguments);return new dom.html.Classes(a)},css:function(){var a=Array.prototype.slice.apply(arguments);return new dom.sheets.Css(a)},cssProperty:function(a,b){return new dom.sheets.CssProperty(a,b)},cssGroup:function(a){var b=Array.prototype.slice.apply(arguments);return new dom.sheets.CssGroup(a,b.slice(1))},cssGenerator:function(){if("undefined"!=typeof domCssGenerator)return domCssGenerator.getInstance();throw"You must include Reactive.css module for working with generated css."},contract:function(a){return new dom.data.Contract(a)},event:function(a,b){return new dom.events.Event(a,b)}}}();!function(a){"use strict";a.Element=function(){this.elements=new a.html.Elements,this.parent=null},a.Element.prototype.processChildren=function(b){var c,d,e=[];for(c=0;c<b.length;c++)d=b[c],d instanceof a.html.Element&&(d.setParent(this),e.push(d));return e},a.Element.prototype.processAttributes=function(b){var c,d,e={};for(c=0;c<b.length;c++)d=b[c],d instanceof a.html.Attribute&&(d.boundWith(this),e[d.getName()]=d);return e},a.Element.prototype.processClasses=function(b){var c,d,e=[];for(c=0;c<b.length;c++)d=b[c],d instanceof a.html.Classes&&(d.boundWith(this),e.push(d));return e},a.Element.prototype.processCss=function(b){var c,d,e=null;for(c=0;c<b.length;c++)if(d=b[c],d instanceof a.sheets.Css){if(null!==e)throw"Can not set css twice on element.";d.boundWith(this),e=d}return e},a.Element.prototype.processCssProperty=function(a){var b,c,d=[];for(b=0;b<a.length;b++)c=a[b],c.boundWith(this),d.push(c);return d},a.Element.prototype.processGroupCssProperty=function(b){var c,d,e,f=[];for(c=0;c<b.length;c++){if(d=b[c],e=d instanceof a.sheets.CssProperty,e&&d.isChangeable())throw"You can not set changeable css property into group!";d.boundWith(this),f.push(d)}return f},a.Element.prototype.processEvents=function(b){var c,d,e=[];for(c=0;c<b.length;c++)d=b[c],d instanceof a.events.Event&&e.push(d);return e},a.Element.prototype.boundWith=function(a){this.elements.addElement(a)}}(dom,document,window),function(a){"use strict";function b(){return void 0===c&&(void 0!==document.hidden&&(c="hidden"),void 0!==document.mozHidden&&(c="mozHidden"),void 0!==document.msHidden&&(c="msHidden"),void 0!==document.webkitHidden&&(c="webkitHidden"),void 0===c&&(c=null)),c?document[c]:!1}a.render=a.render||{};var c,d=30,e=150,f=1e3;a.render.Renderer=function(){this.queue=new a.render.Queue,this.timer=null,this.MAX_IN_STEP=10,this.MAX_TIME=50,this.TIMER_SPAWN=d},a.render.Renderer.prototype.render=function(a,b,c){this.queue.add(a,b,c),this.changed()},a.render.Renderer.prototype.forceFor=function(a){this.timer&&(clearTimeout(this.timer),this.timer=null);var b,c=this.queue.getFor(a);for(b=0;b<c.length;b++)c[b]();this.changed()},a.render.Renderer.prototype.changed=function(){var a=this.timer;null===a&&this.spawnTimer()},a.render.Renderer.prototype.spawnTimer=function(){var a,c=this,d=this.TIMER_SPAWN;b()&&(d=f),this.timer=setTimeout(function(){a=c.now(),c.cycle(a),c.timer=null,0!==c.queue.count()&&c.changed()},d)},a.render.Renderer.prototype.cycle=function(a){var b,c;for(b=0;b<this.MAX_IN_STEP;b++){if(c=this.queue.get(),!c)return;if(c(),this.recalculate(a,b))return}this.recalculate(a,b)},a.render.Renderer.prototype.recalculate=function(a,b){var c,f;return f=this.now()-a,f>this.MAX_TIME?(this.MAX_IN_STEP=Math.max(b,1),this.TIMER_SPAWN=Math.min(e,2*this.TIMER_SPAWN),!0):(this.MAX_IN_STEP===b&&f<this.MAX_TIME&&(c=0===f?10:this.MAX_TIME/f,this.MAX_IN_STEP=Math.floor(this.MAX_IN_STEP*c),this.TIMER_SPAWN=d),!1)},a.render.Renderer.prototype.now=function(){return(new Date).getTime()}}(dom,document,window),function(a){"use strict";function b(a,b){var c=a.queueLow,d=a.queueHigh,e=a.updatesMap,f=b.getUpdates(),g=f.getId(),h=e[g];return h||(e[g]=f,b.isPrioritized()?d.push(g):c.push(g),h=f,a.length++),h}function c(a){var b,c=a.queueLow,d=a.queueHigh,e=d.length?d:c,f=e[0],g=a.updatesMap,h=g[f];return b=h.popUpdate(),0===h.length&&(delete g[f],a.length--,e.shift()),b}a.render=a.render||{},a.render.Queue=function(){this.updatesMap={},this.queueHigh=[],this.queueLow=[],this.length=0},a.render.Queue.prototype.add=function(a,c,d){var e;e=b(this,a),e.pushUpdate(c,d)},a.render.Queue.prototype.get=function(){if(0===this.length)return null;var a;return a=c(this)},a.render.Queue.prototype.getFor=function(a){var b,c,d,e=[],f=this.queueLow,g=this.queueHigh,h=this.updatesMap,i=a.getUpdates(),j=a.getChildren(),k=i.getId(),l=h[k];if(!a.isEmpty()&&j.length)for(b=0;b<j.length;b++)e=e.concat(this.getFor(j[b]));return l?(c=l.getAll(),e=e.concat(c),delete h[k],d=f.indexOf(k),d>=0&&f.splice(d,1),d=g.indexOf(k),d>=0&&g.splice(d,1),this.length--,e):e},a.render.Queue.prototype.count=function(){return this.length}}(dom,document,window),function(a){"use strict";var b=0;a.render=a.render||{},a.render.Update=function(){this.id=b,this.updates={},this.queue=[],this.length=0,b++},a.render.Update.prototype.getId=function(){return this.id},a.render.Update.prototype.pushUpdate=function(a,b){var c=!this.updates[a];c&&(this.queue.push(a),this.length++),this.updates[a]=b},a.render.Update.prototype.popUpdate=function(){var a=this.queue.shift(),b=this.updates[a];return delete this.updates[a],this.length--,b},a.render.Update.prototype.getAll=function(){var a,b=[],c=this.updates;for(a in c)b.push(c[a]);return this.updates={},this.queue=[],this.length=0,b}}(dom,document,window),function(a){"use strict";a.utils=a.utils||{},a.utils.inherit=function(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c}}(dom,document,window),function(a,b,c){"use strict";a.utils=a.utils||{};var d=Boolean(c.console);a.utils.logger=function(a,b){d&&console[a](b)},a.utils.LoggerType={WARN:"warn",ERROR:"error",INFO:"info",LOG:"log"},c.LoggerType=a.utils.LoggerType}(dom,document,window),function(a){"use strict";a.utils=a.utils||{},a.utils.arrayInsert=function(a,b){var c,d=a.length;for(c=0;d>c;c++)if(a[c]===b)return c;return a.push(b),a.length-1},a.utils.arrayIndex=function(a,b){var c,d=a.length;for(c=0;d>c;c++)if(a[c]===b)return c;return-1}}(dom,document,window),function(a,b,c){"use strict";a.events=a.events||{},a.events.Event=function(a,b){this.type=a,this.handler=b,this.detached=!1},a.utils.inherit(a.events.Event,a.Element),a.events.Event.prototype.getType=function(){return this.type},a.events.Event.prototype.enable=function(){this.detached=!1},a.events.Event.prototype.disable=function(){this.detached=!0},a.events.Event.prototype.trigger=function(a){this.handler(a)},a.events.Event.prototype.isActive=function(){return!this.detached},a.events.EventType={Click:"click",DblClick:"dblclick",Drag:"drag",DragEnd:"dragend",DragEnter:"dragenter",DragLeave:"dragleave",DragOver:"dragover",DragStart:"dragstart",Drop:"drop",MouseDown:"mousedown",MouseMove:"mousemove",MouseOut:"mouseout",MouseOver:"mouseover",MouseUp:"mouseup",MouseWheel:"mousewheel",Scroll:"scroll",Wheel:"wheel",Copy:"copy",Cut:"cut",Paste:"paste",Abort:"abort",CanPlay:"canplay",CanPlayThrough:"canplaythrough",CueChange:"cuechange",DurationChange:"durationchange",Emptied:"emptied",Ended:"ended",LoadedData:"loadeddata",LoadedMetadata:"loadedmetadata",LoadStart:"loadstart",Pause:"pause",Play:"play",Playing:"playing",Progress:"progress",RateChange:"ratechange",Seeked:"seeked",Seeking:"seeking",Stalled:"stalled",Suspend:"suspend",TimeUpdate:"timeupdate",VolumeChange:"volumechange",Waiting:"waiting",KeyDown:"keydown",KeyPress:"keypress",KeyUp:"keyup",Blur:"blur",Change:"change",ContextMenu:"contextmenu",Focus:"focus",Input:"input",Invalid:"invalid",Reset:"reset",Search:"search",Select:"select",Submit:"submit",AfterPrint:"afterprint",BeforePrint:"beforeprint",BeforeUnload:"beforeunload",HashChange:"hashchange",Message:"message",Offline:"offline",Online:"online",PageHide:"pagehide",PageShow:"pageshow",PopState:"popstate",Resize:"resize",Storage:"storage",Unload:"unload",Load:"load",Error:"error",Show:"show",Toggle:"toggle"},c.EventType=a.events.EventType}(dom,document,window),function(a){"use strict";a.events=a.events||{},a.events.EventMessage=function(a,b){this.type=a,this.event=b},a.events.EventMessage.prototype.getEvent=function(){return this.event},a.events.EventMessage.prototype.getType=function(){return this.type}}(dom,document,window),function(a){"use strict";a.events=a.events||{},a.events.ChangeEventMessage=function(a,b){this.type=a,this.event=b,this.newValue=void 0,this.checked=void 0},a.utils.inherit(a.events.ChangeEventMessage,a.events.EventMessage)}(dom,document,window),function(a){"use strict";a.data=a.data||{},a.data.Contract=function(a){this.value=a,this.changeEvents=[],this.callers=[]},a.data.Contract.prototype.getValue=function(){return this.value},a.data.Contract.prototype.setValue=function(a){var b,c=this.changeEvents,d=this.callers;if(a!==this.value)for(this.value=a,b=0;b<c.length;b++)c[b].apply(d[b])},a.data.Contract.prototype.addChangeEvent=function(b,c){var d=a.utils.arrayIndex(this.callers,b);-1===d&&(this.callers.push(b),this.changeEvents.push(c))},a.data.Contract.prototype.removeChangeEvent=function(b){var c=a.utils.arrayIndex(this.callers,b);c>=0&&(this.callers.splice(c,1),this.changeEvents.splice(c,1))}}(dom,document,window),function(a){"use strict";a.data=a.data||{},a.data.UnboundContract=function(a){this.value=a,this.changeEvents=[],this.callers=[]},a.utils.inherit(a.data.UnboundContract,a.data.Contract),a.data.UnboundContract.prototype.addChangeEvent=function(){},a.data.UnboundContract.prototype.removeChangeEvent=function(){}}(dom,document,window),function(a,b,c){"use strict";function d(b,c){var e,f;for(e=0;e<c.length;e++)f=c[e],f instanceof a.sheets.CssGroup?(f.elements.removeElement(b),d(b,f.getCss())):f.elements.removeElement(b)}a.html=a.html||{},a.html.RENDERER=new a.render.Renderer,a.html.Element=function(b,c){this.tag=b,this.parent=null,this.children=[],this.attributes=[],this.classNames=[],this.events=[],this.css=null,this.updates=new a.render.Update,this.rendered=!1,this.init(c),this.element=null,this.cssRules=null,this.reactor=null},a.utils.inherit(a.html.Element,a.Element),a.html.Element.prototype.init=function(a){this.children=this.processChildren(a),this.attributes=this.processAttributes(a),this.classNames=this.processClasses(a),this.css=this.processCss(a),this.events=this.processEvents(a)},a.html.Element.prototype.getUpdates=function(){return this.updates},a.html.Element.prototype.attach=function(a){var b=this.reactor,c=this.processChildren(a);this.children=this.children.concat(c),null!==b&&b.generateChildren()},a.html.Element.prototype.getTag=function(){return this.tag},a.html.Element.prototype.getChildren=function(){return this.children},a.html.Element.prototype.getAttributes=function(){return this.attributes},a.html.Element.prototype.getClassNames=function(){return this.classNames},a.html.Element.prototype.getCss=function(){return this.css||null},a.html.Element.prototype.getEvents=function(){return this.events},a.html.Element.prototype.isEmpty=function(){return 0===this.children.length},a.html.Element.prototype.isPrioritized=function(){var a,b=this.getCss(),c=this.rendered;return c&&b?(a=b.getCssProperty(CssPropertyType.DISPLAY),"none"!==a):c},a.html.Element.prototype.getLive=function(b){var c=this.element;return null===c&&(this.reactor=new a.builder.Live(this,b),this.reactor.getLive(),c=this.element),c},a.html.Element.prototype.getHtml=function(){var b=this.getLive();return a.html.RENDERER.forceFor(this),b.outerHTML||b.nodeValue},a.html.Element.prototype.createCssRules=function(){var b=this.cssRules;null===b&&new a.builder.Css(this).getCss()},a.html.Element.prototype.remove=function(){var a,b,c=this.css,e=this.reactor,f=this.children,g=this.classNames,h=this.attributes;for(a=f.length-1;a>=0;a--)f[a].remove();for(b in h)h[b].elements.removeElement(this);for(a=0;a<g.length;a++)g[a].elements.removeElement(this);c&&(c.elements.removeElement(this),d(this,c.getCss())),e&&e.remove(),this.rendered=!1},a.html.Element.prototype.setAttribute=function(b,c){var d=this.element;d&&a.html.RENDERER.render(this,b,function(){d.setAttribute(b,c)})},a.html.Element.prototype.setCssProperty=function(b,c){var d=this.element;d&&a.html.RENDERER.render(this,b,function(){d.style[b]=c})},a.html.Element.prototype.setClassName=function(b){var c=this.element;c&&a.html.RENDERER.render(this,"className",function(){c.className=b.join(" ")})},a.html.Element.prototype.setParent=function(b){var c,d=this.parent;null!==d&&(c=a.utils.arrayIndex(d.children,b),d.children.splice(c,1)),this.parent=b,this.rendered=b?b.rendered:!1},a.html.ElementType={DIV:"div",SPAN:"span",A:"a",ABBR:"abbr",ADDRESS:"address",AREA:"area",ARTICLE:"article",ASIDE:"aside",AUDIO:"audio",B:"b",BASE:"base",BLOCKQUOTE:"blockquote",BR:"br",BUTTON:"button",CANVAS:"canvas",CAPTION:"caption",CITE:"cite",CODE:"code",EM:"em",EMBED:"embed",FIELDSET:"fieldset",FOOTER:"footer",FORM:"form",H1:"h1",H2:"h2",H3:"h3",H4:"h4",H5:"h5",H6:"h6",HEADER:"header",I:"i",IFRAME:"iframe",IMG:"img",INPUT:"input",LABEL:"label",LEGEND:"legend",LI:"li",MAIN:"main",MARK:"mark",MENU:"menu",MENUITEM:"menuitem",META:"meta",METER:"meter",NAV:"nav",NOSCRIPT:"noscript",OBJECT:"object",OL:"ol",OPTION:"option",P:"p",PARAM:"param",PRE:"pre",Q:"q",SECTION:"section",SELECT:"select",SMALL:"small",SOURCE:"source",STRONG:"strong",SUB:"sub",SUMMARY:"summary",SUP:"sup",TABLE:"table",TBODY:"tbody",TD:"td",TEXTAREA:"textarea",TFOOT:"tfoot",TH:"th",THEAD:"thead",TITLE:"title",TR:"tr",TRACK:"track",U:"u",UL:"ul",VIDEO:"video"},c.ElementType=a.html.ElementType}(dom,document,window),function(a){"use strict";a.html=a.html||{},a.html.TextElement=function(b){this.text=b instanceof a.data.Contract?b:new a.data.UnboundContract(b),this.element=null,this.parent=null,this.reactor=null,this.updates=new a.render.Update,this.rendered=!1,this.text.addChangeEvent(this,this.setText)},a.utils.inherit(a.html.TextElement,a.html.Element),a.html.TextElement.prototype.attach=function(){},a.html.TextElement.prototype.isEmpty=function(){return!0},a.html.TextElement.prototype.getValue=function(){var a=this.text.getValue();return null!==a&&void 0!==a?a.toString():null},a.html.TextElement.prototype.setAttribute=function(){},a.html.TextElement.prototype.setCssProperty=function(){},a.html.TextElement.prototype.setClassName=function(){},a.html.TextElement.prototype.getLive=function(){var b=this.element;return null===b&&(this.reactor=new a.builder.LiveText(this),this.reactor.getLive(),b=this.element),b},a.html.TextElement.prototype.remove=function(){var a=this.reactor;a&&a.remove(),this.text.removeChangeEvent(this)},a.html.TextElement.prototype.setText=function(){var b=this,c=this.element;c&&a.html.RENDERER.render(this,"nodeValue",function(){c.nodeValue=b.getValue()||""})}}(dom,document,window),function(a,b,c){"use strict";a.html=a.html||{},a.html.Attribute=function(b,c){this.name=b,this.value=c instanceof a.data.Contract?c:new a.data.UnboundContract(c),this.elements=new a.html.Elements,this.value.addChangeEvent(this,this.onAttributeChange)},a.utils.inherit(a.html.Attribute,a.Element),a.html.Attribute.prototype.getName=function(){return this.name},a.html.Attribute.prototype.getValue=function(){var a=this.value.getValue();return a?a.toString():null},a.html.Attribute.prototype.isChangeable=function(){var b=this.value instanceof a.data.UnboundContract;return b===!1},a.html.Attribute.prototype.onAttributeChange=function(){this.elements.setAttribute(this)},a.html.AttributeType={ID:"id",VALUE:"value",ACCESSKEY:"accesskey",ACTION:"action",ALINK:"alink",ALT:"alt",CHECKED:"checked",CITE:"cite",COLS:"cols",COLSPAN:"colspan",DISABLED:"disabled",HREF:"href",LABEL:"label",LANG:"lang",LINK:"link",MEDIA:"media",METHOD:"method",NAME:"name",READONLY:"readonly",REL:"rel",ROWS:"rows",ROWSPAN:"rowspan",SRC:"src",TABINDEX:"tabindex",TARGET:"target",TITLE:"title",TYPE:"type"},c.AttributeType=a.html.AttributeType}(dom,document,window),function(a){"use strict";a.html=a.html||{},a.html.DataAttribute=function(b,c){this.name=b,this.value=c instanceof a.data.Contract?c:new a.data.UnboundContract(c),this.elements=new a.html.Elements,this.value.addChangeEvent(this,this.onAttributeChange)},a.utils.inherit(a.html.DataAttribute,a.html.Attribute),a.html.DataAttribute.prototype.getName=function(){return"data-"+this.name}}(dom,document,window),function(a){"use strict";a.html=a.html||{},a.html.Classes=function(b){this.elements=new a.html.Elements,this.cls=this.createClasses(b)},a.utils.inherit(a.html.Classes,a.Element),a.html.Classes.prototype.getClasses=function(){var a,b=this.cls,c=[];for(a=0;a<b.length;a++)c.push(b[a].getValue());return c},a.html.Classes.prototype.getStaticClasses=function(){var b,c,d=this.cls,e=[];for(b=0;b<d.length;b++)c=d[b],c instanceof a.data.UnboundContract&&e.push(c.getValue());return e},a.html.Classes.prototype.createClasses=function(b){var c,d,e=[];for(c=0;c<b.length;c++)d=b[c],d instanceof a.data.Contract?(d.addChangeEvent(this,this.onClassNameChange),e.push(d)):e.push(new a.data.UnboundContract(d));return e},a.html.Classes.prototype.onClassNameChange=function(){this.elements.setClassName(this)}}(dom,document,window),function(a){"use strict";a.html=a.html||{},a.html.Elements=function(){this.elements=[]},a.html.Elements.prototype.addElement=function(b){var c=a.utils.arrayIndex(this.elements,b);-1===c&&this.elements.push(b)},a.html.Elements.prototype.removeElement=function(b){var c=a.utils.arrayIndex(this.elements,b);c>=0&&this.elements.splice(c,1)},a.html.Elements.prototype.setAttribute=function(a){var b,c=this.elements;for(b=0;b<c.length;b++)c[b].setAttribute(a.getName(),a.getValue())},a.html.Elements.prototype.setCssProperty=function(b){var c,d,e=this.elements;for(c=0;c<e.length;c++)d=e[c],d instanceof a.sheets.Css?d.setCssProperty(b):d.setCssProperty(b.getName(),b.getValue())},a.html.Elements.prototype.setClassName=function(a){var b,c=a.getClasses(),d=this.elements;for(b=0;b<d.length;b++)d[b].setClassName(c)}}(dom,document,window),function(a){"use strict";a.sheets=a.sheets||{},a.sheets.Css=function(b){this.elements=new a.html.Elements,this.css=this.processCssProperty(b)},a.utils.inherit(a.sheets.Css,a.Element),a.sheets.Css.prototype.setCssProperty=function(a){this.elements.setCssProperty(a)},a.sheets.Css.prototype.getCssProperty=function(b){var c,d,e=this.css;for(c=0;c<e.length;c++)if(d=e[c],d instanceof a.sheets.CssProperty&&d.getName()===b)return d.getValue();return null},a.sheets.Css.prototype.getCss=function(){return this.css}}(dom,document,window),function(a,b,c){"use strict";function d(a,b,c){return null===c?a.substr(0,b)+a.substr(b+1):a.substr(0,b)+c+a.substr(b+c.length)}a.sheets=a.sheets||{};var e={};a.sheets.CssProperty=function(b,c){this.name=b,this.jsName=a.sheets.CssProperty.createJsName(b),this.value=c instanceof a.data.Contract?c:new a.data.UnboundContract(c),this.elements=new a.html.Elements,this.value.addChangeEvent(this,this.onCssChange)},a.utils.inherit(a.sheets.CssProperty,a.Element),a.sheets.CssProperty.prototype.getName=function(){return this.name},a.sheets.CssProperty.prototype.getJsName=function(){return this.jsName},a.sheets.CssProperty.prototype.getValue=function(){var a=this.value.getValue();return a?a.toString():null},a.sheets.CssProperty.prototype.isChangeable=function(){var b=this.value instanceof a.data.UnboundContract;return b===!1},a.sheets.CssProperty.prototype.onCssChange=function(){this.elements.setCssProperty(this)},a.sheets.CssProperty.createJsName=function(a){var b,c=a,f="-",g=e[a];if(g)return g;for(b=c.indexOf(f);b>=0;)b>0?(c=d(c,b,null),c=d(c,b,c[b].toUpperCase())):c=d(c,b,null),b=c.indexOf(f);return e[a]=c,c},a.sheets.CssPropertyType={ACCELERATOR:"accelerator",AZIMUTH:"azimuth",BACKGROUND:"background",BACKGROUND_ATTACHMENT:"background-attachment",BACKGROUND_COLOR:"background-color",BACKGROUND_IMAGE:"background-image",BACKGROUND_POSITION:"background-position",BACKGROUND_POSITION_X:"background-position-x",BACKGROUND_POSITION_Y:"background-position-y",BACKGROUND_REPEAT:"background-repeat",BEHAVIOR:"behavior",BORDER:"border",BORDER_BOTTOM:"border-bottom",BORDER_BOTTOM_COLOR:"border-bottom-color",BORDER_BOTTOM_STYLE:"border-bottom-style",BORDER_BOTTOM_WIDTH:"border-bottom-width",BORDER_COLLAPSE:"border-collapse",BORDER_COLOR:"border-color",BORDER_LEFT:"border-left",BORDER_LEFT_COLOR:"border-left-color",BORDER_LEFT_STYLE:"border-left-style",BORDER_LEFT_WIDTH:"border-left-width",BORDER_RIGHT:"border-right",BORDER_RIGHT_COLOR:"border-right-color",BORDER_RIGHT_STYLE:"border-right-style",BORDER_RIGHT_WIDTH:"border-right-width",BORDER_SPACING:"border-spacing",BORDER_STYLE:"border-style",BORDER_TOP:"border-top",BORDER_TOP_COLOR:"border-top-color",BORDER_TOP_STYLE:"border-top-style",BORDER_TOP_WIDTH:"border-top-width",BORDER_WIDTH:"border-width",BOTTOM:"bottom",CAPTION_SIDE:"caption-side",CLEAR:"clear",CLIP:"clip",COLOR:"color",CONTENT:"content",COUNTER_INCREMENT:"counter-increment",COUNTER_RESET:"counter-reset",CUE:"cue",CUE_AFTER:"cue-after",CUE_BEFORE:"cue-before",CURSOR:"cursor",DIRECTION:"direction",DISPLAY:"display",ELEVATION:"elevation",EMPTY_CELLS:"empty-cells",FILTER:"filter",FLOAT:"float",FONT:"font",FONT_FAMILY:"font-family",FONT_SIZE:"font-size",FONT_SIZE_ADJUST:"font-size-adjust",FONT_STRETCH:"font-stretch",FONT_STYLE:"font-style",FONT_VARIANT:"font-variant",FONT_WEIGHT:"font-weight",HEIGHT:"height",IME_MODE:"ime-mode",INCLUDE_SOURCE:"include-source",LAYER_BACKGROUND_COLOR:"layer-background-color",LAYER_BACKGROUND_IMAGE:"layer-background-image",LAYOUT_FLOW:"layout-flow",LAYOUT_GRID:"layout-grid",LAYOUT_GRID_CHAR:"layout-grid-char",LAYOUT_GRID_CHAR_SPACING:"layout-grid-char-spacing",LAYOUT_GRID_LINE:"layout-grid-line",LAYOUT_GRID_MODE:"layout-grid-mode",LAYOUT_GRID_TYPE:"layout-grid-type",LEFT:"left",LETTER_SPACING:"letter-spacing",LINE_BREAK:"line-break",LINE_HEIGHT:"line-height",LIST_STYLE:"list-style",LIST_STYLE_IMAGE:"list-style-image",LIST_STYLE_POSITION:"list-style-position",LIST_STYLE_TYPE:"list-style-type",MARGIN:"margin",MARGIN_BOTTOM:"margin-bottom",MARGIN_LEFT:"margin-left",MARGIN_RIGHT:"margin-right",MARGIN_TOP:"margin-top",MARKER_OFFSET:"marker-offset",MARKS:"marks",MAX_HEIGHT:"max-height",MAX_WIDTH:"max-width",MIN_HEIGHT:"min-height",MIN_WIDTH:"min-width",ORPHANS:"orphans",OUTLINE:"outline",OUTLINE_COLOR:"outline-color",OUTLINE_STYLE:"outline-style",OUTLINE_WIDTH:"outline-width",OVERFLOW:"overflow",OVERFLOW_X:"overflow-X",OVERFLOW_Y:"overflow-Y",PADDING:"padding",PADDING_BOTTOM:"padding-bottom",PADDING_LEFT:"padding-left",PADDING_RIGHT:"padding-right",PADDING_TOP:"padding-top",PAGE:"page",PAGE_BREAK_AFTER:"page-break-after",PAGE_BREAK_BEFORE:"page-break-before",PAGE_BREAK_INSIDE:"page-break-inside",PAUSE:"pause",PAUSE_AFTER:"pause-after",PAUSE_BEFORE:"pause-before",PITCH:"pitch",PITCH_RANGE:"pitch-range",PLAY_DURING:"play-during",POSITION:"position",QUOTES:"quotes",RICHNESS:"richness",RIGHT:"right",RUBY_ALIGN:"ruby-align",RUBY_OVERHANG:"ruby-overhang",RUBY_POSITION:"ruby-position",SIZE:"size",SPEAK:"speak",SPEAK_HEADER:"speak-header",SPEAK_NUMERAL:"speak-numeral",SPEAK_PUNCTUATION:"speak-punctuation",SPEECH_RATE:"speech-rate",STRESS:"stress",TABLE_LAYOUT:"table-layout",TEXT_ALIGN:"text-align",TEXT_ALIGN_LAST:"text-align-last",TEXT_DECORATION:"text-decoration",TEXT_INDENT:"text-indent",TEXT_JUSTIFY:"text-justify",TEXT_OVERFLOW:"text-overflow",TEXT_SHADOW:"text-shadow",TEXT_TRANSFORM:"text-transform",TEXT_AUTOSPACE:"text-autospace",TEXT_KASHIDA_SPACE:"text-kashida-space",
TEXT_UNDERLINE_POSITION:"text-underline-position",TOP:"top",UNICODE_BIDI:"unicode-bidi",VERTICAL_ALIGN:"vertical-align",VISIBILITY:"visibility",VOICE_FAMILY:"voice-family",VOLUME:"volume",WHITE_SPACE:"white-space",WIDOWS:"widows",WIDTH:"width",WORD_BREAK:"word-break",WORD_SPACING:"word-spacing",WORD_WRAP:"word-wrap",WRITING_MODE:"writing-mode",Z_INDEX:"z-index",ZOOM:"zoom"},c.CssPropertyType=a.sheets.CssPropertyType}(dom,document,window);var sheets=function(a){"use strict";a.sheets=a.sheets||{},a.sheets.CssGroup=function(b,c){this.elements=new a.html.Elements,this.name=b,this.css=this.processGroupCssProperty(c)},a.utils.inherit(a.sheets.CssGroup,a.Element),a.sheets.CssGroup.prototype.getName=function(){return this.name},a.sheets.CssGroup.prototype.getCss=function(){return this.css}}(dom,document,window);!function(a){"use strict";a.sheets=a.sheets||{},a.sheets.CssRule=function(a,b){this.name=a,this.properties=b,this.cssElement=null,this.element=null},a.sheets.CssRule.prototype.getRuleName=function(){return this.name},a.sheets.CssRule.prototype.getRuleString=function(){return this.name+" {"+this.properties.join(";")+"}\n"},a.sheets.CssRule.prototype.isInDom=function(){return null!==this.cssElement},a.sheets.CssRule.prototype.isEmpty=function(){return 0===this.properties.length}}(dom,document,window),function(a){"use strict";a.sheets=a.sheets||{},a.sheets.CssRules=function(){},a.utils.inherit(a.sheets.CssRules,Array)}(dom,document,window),function(a){"use strict";a.builder=a.builder||{},a.builder.Live=function(a,b){this.element=a,this.parent=b,this.events=null},a.builder.Live.prototype.getLive=function(){this.generateElement(),this.generateAttributes(),this.generateClasses(),this.generateCss(),this.generateChildren(),this.generateEvents()},a.builder.Live.prototype.generateElement=function(){var a=this.element,b=this.parent;a.element=b||document.createElement(a.getTag())},a.builder.Live.prototype.generateAttributes=function(){var a,b,c,d=this.element;a=d.getAttributes();for(c in a)b=a[c],null!==b.getValue()&&d.setAttribute(b.getName(),b.getValue())},a.builder.Live.prototype.generateClasses=function(){var a,b,c=this.element,d=[];for(a=c.getClassNames(),b=0;b<a.length;b++)d=d.concat(a[b].getClasses());d.length>0&&c.setClassName(d)},a.builder.Live.prototype.generateCss=function(){var a=this.element,b=a.getCss();null!==b&&this.generateCssForGroup(b.getCss())},a.builder.Live.prototype.generateCssForGroup=function(b){var c,d,e,f,g,h=this.element;for(c=0;c<b.length;c++)f=b[c],g=f instanceof a.sheets.CssProperty,e=f instanceof a.sheets.CssGroup,g&&f.isChangeable()&&h.setCssProperty(f.getJsName(),f.getValue()),e&&(d=f,this.generateCssForGroup(d.getCss()))},a.builder.Live.prototype.generateChildren=function(){var a,b,c,d,e,f=this.element;if(!f.isEmpty())for(c=f.getChildren(),e=0;e<c.length;e++)d=c[e],d.rendered=f.rendered,a=d.getLive(),b=f.element,b.contains(a)||b.appendChild(a)},a.builder.Live.prototype.generateEvents=function(){var b=this.element,c=b.getEvents();0!==c.length&&(this.events=new a.builder.Event(b),this.events.bindEvents())},a.builder.Live.prototype.remove=function(){var a=this.events,b=this.element,c=b.parent;a&&a.remove(),c&&c.element&&(c.element.removeChild(b.element),b.setParent(null))}}(dom,document,window),function(a){"use strict";a.builder=a.builder||{},a.builder.LiveText=function(a){this.element=a},a.utils.inherit(a.builder.LiveText,a.builder.Live),a.builder.LiveText.prototype.getLive=function(){this.generateTextContent()},a.builder.LiveText.prototype.generateTextContent=function(){var a=this.element;a.element=document.createTextNode(""),null!==a.getValue()&&a.setText()}}(dom,document,window),function(a){"use strict";function b(a,b,c){if(a.addEventListener)a.addEventListener(b,c,!1);else{if(!a.attachEvent)throw"Reactive events are not supported in this browser.";a.attachEvent("on"+b,c)}}function c(a,b,c){if(a.removeEventListener)a.removeEventListener(b,c);else{if(!a.detachEvent)throw"Reactive events are not supported in this browser.";a.detachEvent("on"+b,c)}}function d(a,b){for(var c=b;c;){if(c===a)return!0;c=c.parentNode}return!1}a.builder=a.builder||{},a.builder.Event=function(a){this.element=a,this.handlers=[]},a.builder.Event.prototype.bindEvents=function(){var a,b,c=this.element,d=c.getEvents();for(a=0;a<d.length;a++)b=d[a],this.attachEvent(b)},a.builder.Event.prototype.attachEvent=function(a){var c,e,f=this,g=this.handlers,h=this.element;c=function(b){a.isActive()!==!1&&(e=b.target||b.srcElement,d(h.element,e)&&a.trigger(f.createEvent(a,e,b)))},g.push({event:a,handler:c}),b(document.body,a.getType(),c)},a.builder.Event.prototype.createEvent=function(b,c,d){var e,f=b.getType();switch(f){case EventType.Change:return e=new a.events.ChangeEventMessage(f,d),e.checked=Boolean(c.checked),e.newValue=c.value,e;default:return new a.events.EventMessage(f,d)}},a.builder.Event.prototype.remove=function(){var a,b,d=this.handlers;for(a=0;a<d.length;a++)b=d[a],c(document.body,b.event.getType(),b.handler)}}(dom,document,window),function(a,b,c){"use strict";a.builder=a.builder||{};var d=null,e=null,f={};a.builder.Css=function(b){this.element=b,this.cssRules=new a.sheets.CssRules},a.builder.Css.prototype.getCss=function(){var b,c=this.cssRules,d=this.element,f=d.getChildren(),g=this.element.getCss();if(a.builder.Css.findStyle(),e!==!0){for(g&&this.getCssRule(a.builder.Css.getRuleName(d),g.getCss()),b=0;b<c.length;b++)this.appendRule(c[b]);if(!d.isEmpty())for(b=0;b<f.length;b++)new a.builder.Css(f[b]).getCss();d.cssRules=c}},a.builder.Css.prototype.getCssRule=function(b,c){var d,e,f,g,h,i=[],j=this.cssRules;for(d=0;d<c.length;d++)h=c[d],h instanceof a.sheets.CssGroup?(f=h,this.getCssRule(b+f.getName(),f.getCss())):h.isChangeable()||null===h.getValue()||i.push(h.getName()+": "+h.getValue());g=a.builder.Css.getParentRuleName(this.element.parent),g&&(b=[g,b].join(" ")),e=new a.sheets.CssRule(b,i),e.element=this.element,j.push(e)},a.builder.Css.prototype.appendRule=function(c){var e=c.getRuleName();if(!c.isEmpty()&&!c.isInDom()){if(f[e])return void a.utils.logger(LoggerType.INFO,"There is duplicate rule named '"+e+"'. You must specify one of element that is used on this path.");f[e]=c,a.builder.Css.createStyle(),c.cssElement=b.createTextNode(c.getRuleString()),d.styleSheet?d.styleSheet.cssText+=c.cssElement.nodeValue:d.appendChild(c.cssElement)}},a.builder.Css.getId=function(a){var b=a.getAttributes(),c=b[AttributeType.ID];return c&&!c.isChangeable()?c.getValue()||null:null},a.builder.Css.getClasses=function(a){var b,c,d=[],e=a.getClassNames();for(b=0;b<e.length;b++)c=e[b].getStaticClasses(),d=d.concat(c);return d},a.builder.Css.getRuleName=function(b){var c,d,e=[];return c=a.builder.Css.getId(b),d=a.builder.Css.getClasses(b),null!==c&&e.push("#"+c),d.length&&(d.unshift(""),e.push(d.join("."))),0===e.length&&e.push(b.getTag()),e.join("")},a.builder.Css.getParentRuleName=function(b){var c,d=[],e=b,f=null===e||null===b.parent;if(f)return"";for(;!f;)c=a.builder.Css.getRuleName(e),c&&d.unshift(c),e=e.parent,f=null===e;return d.join(" ")},a.builder.Css.createStyle=function(){var c;null===d&&(d=b.createElement("style"),d.setAttribute("type","text/css"),d.setAttribute("id",a.builder.CssStyleType.GENERATED),c=b.getElementsByTagName("head")[0],c.appendChild(d))},a.builder.Css.findStyle=function(){null===e&&(e=Boolean(b.getElementById(a.builder.CssStyleType.STATIC)))},a.builder.CssStyleType={GENERATED:"reactive-generated",STATIC:"reactive-static"},c.CssStyleType=a.builder.CssStyleType}(dom,document,window);var domCssGenerator=function(){function a(){this.elements=[]}a.prototype.register=function(a){dom.utils.arrayInsert(this.elements,a)},a.prototype.getProductionCss=function(){var a,b,c,d=this.elements;for(a=0;a<d.length;a++)c=d[a],c.getLive(),c.createCssRules();return b=document.getElementById(dom.builder.CssStyleType.GENERATED),b.textContent};var b;return{getInstance:function(){return null==b&&(b=new a,b.constructor=null),b}}}();